<!DOCTYPE html>
<html lang="en-US">
    <head>
        <link rel="stylesheet" href="{{ url_for('static', filename='signup.css') }}">
        <title>Sign Up</title>

        <script>
            function validateForm(event) {
                const password = document.getElementById("password").value;
                const confirmPassword = document.getElementById("confirm-password").value;

                const regex = /^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_\-+=]).{8,}$/;

                if (!regex.test(password)) {
                    alert("Password must be at least 8 characters long, contain 1 uppercase letter, 1 number, and 1 special symbol.");
                    event.preventDefault();
                    return false;
                }

                if (password !== confirmPassword) {
                    alert("Passwords do not match.");
                    event.preventDefault();
                    return false;
                }

                return true;
            }
        </script>
    </head>
    <body>

        <h1>Welcome to TunaTalk!</h1>
        <p>Sign up if you haven't already to start learning!</p>

        <form method="POST" action="/signup" onsubmit="return validateForm(event)">
            <label for="username">Username:</label><br>
            <input type="text" id="username" name="username" required><br>

            <label for="email">Email:</label><br>
            <input type="email" id="email" name="email" required><br>

            <label for="password">Password:</label><br>
            <input type="password" id="password" name="password" required><br>

            <label for="confirm-password">Confirm Password:</label><br>
            <input type="password" id="confirm-password" name="confirm-password" required><br>
            
            <div class="button-row">
                <input type="button" value="Already know your login?" onclick="window.location.href='/login'">
            </div>
            
            <input type="submit" value="Sign Up">
        </form>

    </body>
</html>